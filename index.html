<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë§ˆìŒ ì‰¼, ì¸ì§€í–‰ë™ì‹¬ë¦¬ìƒë‹´ì„¼í„°</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Noto+Sans+KR:wght@300;400;500&family=Cormorant+Garamond:ital,wght@0,300;1,300&display=swap" rel="stylesheet">

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESIGN TOKENS (Maintained Original Style)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --c-bg:      #f7f3ec;
  --c-ivory:   #fdfaf5;
  --c-cream:   #ede8dd;
  --c-sage:    #3d5c35;
  --c-sage-lt: #5a7e50;
  --c-sage-xs: rgba(61,92,53,0.08);
  --c-earth:   #7a5c38;
  --c-ink:     #1a1a18;
  --c-muted:   #6b6560;
  --c-border:  rgba(61,92,53,0.14);
  --c-white:   #ffffff;

  --f-display: 'Nanum Myeongjo', 'Cormorant Garamond', Georgia, serif;
  --f-body:    'Noto Sans KR', 'DM Sans', sans-serif;

  --shadow-sm: 0 2px 12px rgba(26,26,24,0.07);
  --shadow-md: 0 8px 40px rgba(26,26,24,0.1);
  --t: 0.38s cubic-bezier(0.4,0,0.2,1);

  --edit-ring: 2px dashed rgba(196,154,30,0.8);
  --edit-fill: rgba(255,240,120,0.18);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BASE RESET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  font-family: var(--f-body);
  background: var(--c-bg);
  color: var(--c-ink);
  overflow-x: hidden;
  line-height: 1.7;
}
img { display: block; max-width: 100%; }
a  { color: inherit; text-decoration: none; }
button { cursor: pointer; font-family: var(--f-body); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ADMIN BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#admin-bar {
  position: fixed; top: 0; left: 0; right: 0; z-index: 9000;
  height: 48px;
  background: var(--c-ink);
  display: none;
  align-items: center;
  justify-content: space-between;
  padding: 0 28px;
  font-size: 13px;
  color: rgba(255,255,255,0.8);
  letter-spacing: 0.03em;
  gap: 16px;
}
#admin-bar.on { display: flex; }
body.edit-mode { padding-top: 48px; }
body.edit-mode nav { top: 48px; }
/* ê´€ë¦¬ì ëª¨ë“œì¼ ë•Œ ì§€ë„ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
body.edit-mode #e-map-link {
  cursor: edit;
  position: relative;
}
body.edit-mode #e-map-link::after {
  content: 'ğŸ”— URL ìˆ˜ì • (í´ë¦­)';
  position: absolute;
  top: 10px;
  right: 10px;
  background: var(--c-sage);
  color: white;
  padding: 4px 8px;
  font-size: 11px;
  border-radius: 4px;
  z-index: 10;
}
.ab-badge {
  background: var(--c-sage); color: #fff;
  padding: 2px 10px; border-radius: 99px;
  font-size: 11px; letter-spacing: 0.08em; text-transform: uppercase;
  flex-shrink: 0;
}
.ab-hint { opacity: 0.5; font-size: 12px; }
.ab-actions { display: flex; gap: 10px; margin-left: auto; }
.ab-btn {
  padding: 5px 16px;
  border-radius: 3px;
  font-size: 12px;
  letter-spacing: 0.05em;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.08);
  color: #fff;
  transition: background var(--t);
}
.ab-btn:hover { background: rgba(255,255,255,0.18); }
.ab-btn.save {
  background: var(--c-sage);
  border-color: var(--c-sage);
}
.ab-btn.save:hover { background: var(--c-sage-lt); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAVIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 800;
  display: flex; align-items: center; justify-content: space-between;
  padding: 22px 6vw;
  transition: background var(--t), padding var(--t), box-shadow var(--t);
  background: rgba(255, 255, 255, 0.3);
}
nav.stuck {
  background: rgba(247,243,236,0.94);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  padding: 13px 6vw;
  box-shadow: 0 1px 0 var(--c-border);
}

.nav-brand {
  font-family: var(--f-display);
  font-size: clamp(13px, 4vw, 21px);
  font-weight: 700;
  letter-spacing: 0.04em;
  color: var(--c-ink); 
  flex-shrink: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap
}
.nav-brand span { color: var(--c-sage); }

.nav-list {
  display: flex; gap: 34px; list-style: none; align-items: center;
}
.nav-list a {
  font-size: 13px; font-weight: 400;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--c-ink); opacity: 0.65;
  transition: opacity var(--t);
  position: relative;
}
.nav-list a::after {
  content: ''; position: absolute; bottom: -4px; left: 0; right: 100%;
  height: 1px; background: var(--c-sage);
  transition: right var(--t);
}
.nav-list a:hover { opacity: 1; }
.nav-list a:hover::after { right: 0; }

.nav-mgr {
  font-size: 12px !important; opacity: 1 !important;
  background: var(--c-ink); color: #fff !important;
  padding: 8px 18px; border-radius: 2px;
  transition: background var(--t) !important;
}
.nav-mgr:hover { background: var(--c-sage) !important; }


.burger {
  display: none; 
  flex-direction: column; 
  gap: 5px;
  background: none; 
  border: none; 
  padding: 4px;
  position: relative;  
  z-index: 1000;       
}

.burger span { 
width: 22px; height: 1.5px; background: var(--c-ink); display: block; 
transition: transform 0.3s ease, opacity 0.3s ease;
}

.burger.active span:nth-child(1) {
  transform: translateY(6.5px) rotate(45deg);
}
.burger.active span:nth-child(2) {
  opacity: 0;
}
.burger.active span:nth-child(3) {
  transform: translateY(-6.5px) rotate(-45deg);
}

@media (max-width: 760px) {
  .burger { display: flex; }
   .burger.active {
    position: fixed;    
    right: max(6vw, 16px);        
    top: 22px;          
  }

   body.edit-mode .burger.active {
    top: 70px;          
  }

  .nav-list {
    position: fixed; top: 0; right: -100%; width: 270px; height: 100vh;
    background: var(--c-ivory); flex-direction: column; justify-content: center;
    gap: 28px; padding: 48px 36px;
    box-shadow: -6px 0 28px rgba(0,0,0,0.08);
    transition: right var(--t); z-index: 799;
  }
  .nav-list.open { right: 0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHARED UTILITIES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.wrap { max-width: 1340px; margin: 0 auto; padding: 0 6vw; }
.sec-tag {
  display: inline-flex; align-items: center; gap: 10px;
  font-size: 11px; letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--c-sage); font-weight: 500; margin-bottom: 16px;
}
.sec-tag::before { content: ''; width: 28px; height: 1px; background: var(--c-sage); }
.sec-h {
  font-family: var(--f-display);
  font-size: clamp(34px, 4.5vw, 62px);
  font-weight: 700; line-height: 1.1; word-break: keep-all;
}
.sec-h em { font-style: italic; color: var(--c-sage); font-weight: 400; }
.sec-sub { font-size: 16px; line-height: 1.85; color: var(--c-muted); font-weight: 300; word-break: keep-all; }

 .sr { opacity: 0; transform: translateY(28px); transition: opacity 0.7s ease, transform 0.7s ease; }
.sr.in { opacity: 1; transform: translateY(0); }
.sr.d1 { transition-delay: 0.1s; }
.sr.d2 { transition-delay: 0.22s; }
.sr.d3 { transition-delay: 0.34s; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   THERAPIST / HERO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#therapist { min-height: 100vh; display: grid; grid-template-columns: 1fr 1fr; }
.therapist-content { display: flex; flex-direction: column; justify-content: center; padding: 130px 4vw 80px 8vw; position: relative; z-index: 2; }
.therapist-eyebrow { font-size: 11px; letter-spacing: 0.22em; text-transform: uppercase; color: var(--c-sage); font-weight: 500; margin-bottom: 24px; display: flex; align-items: center; gap: 10px; animation: fadeUp 0.9s ease 0.1s both; }
.therapist-eyebrow::before { content:''; width:28px; height:1px; background:var(--c-sage); }
.therapist-h1 { font-family: var(--f-display); font-size: clamp(40px, 4.8vw, 72px); font-weight: 700; line-height: 1.15; word-break: keep-all; margin-bottom: 24px; animation: fadeUp 0.9s ease 0.22s both; }
.therapist-h1 em { font-style: italic; color: var(--c-sage); font-weight: 400; }
.therapist-body { font-size: 17px; line-height: 1.85; color: var(--c-muted); font-weight: 300; max-width: 460px; margin-bottom: 32px; word-break: keep-all; animation: fadeUp 0.9s ease 0.34s both; }

.cred-list { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 40px; animation: fadeUp 0.9s ease 0.42s both; }
.cred-badge { display: inline-flex; align-items: center; gap: 7px; font-size: 12px; letter-spacing: 0.04em; background: var(--c-sage-xs); color: var(--c-sage); padding: 6px 14px; border-radius: 99px; border: 1px solid var(--c-border); }

.therapist-photo { position: relative; overflow: hidden; background: #eee; }
.therapist-photo img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.9s ease; }

@media (max-width: 860px) {
  #therapist { grid-template-columns: 1fr; min-height: auto; }
  .therapist-content { padding: 120px 6vw 56px; }
  .therapist-photo { height: 60vw; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PROCESS / FIELDS (ìƒë‹´ë¶„ì•¼)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#fields { padding: 130px 0; background: var(--c-ivory); }
.fields-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-top: 52px; }
.field-card { background: var(--c-bg); padding: 32px 28px; border-left: 3px solid var(--c-sage); transition: transform var(--t); }
.field-card:hover { transform: translateY(-5px); }
.field-card h4 { font-family: var(--f-display); font-size: 18px; font-weight: 700; margin-bottom: 12px; }
.field-card p { font-size: 14px; color: var(--c-muted); font-weight: 300; line-height: 1.6; }

@media (max-width: 860px) { .fields-grid { grid-template-columns: 1fr; } }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOCATION & INFO (Updated Layout)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#location {
  padding: 130px 0;
  background: var(--c-cream); /* Maintained original section color */
}
.loc-grid {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 72px; align-items: start;
}
.loc-body {
  font-size: 16px; line-height: 1.85;
  color: var(--c-muted); font-weight: 300;
  margin: 22px 0 40px; word-break: keep-all;
}
.loc-list { list-style: none; display: flex; flex-direction: column; gap: 18px; }
.loc-item {
  display: flex; gap: 14px; align-items: flex-start;
}
.loc-ico {
  width: 38px; height: 38px; border-radius: 50%;
  background: var(--c-sage-xs);
  display: flex; align-items: center; justify-content: center;
  color: var(--c-sage); font-size: 17px; flex-shrink: 0;
}
.loc-meta { display: flex; flex-direction: column; gap: 3px; }
.loc-lbl {
  font-size: 11px; letter-spacing: 0.14em; text-transform: uppercase;
  color: var(--c-sage); font-weight: 700;
}
.loc-val {
  font-size: 15px; color: var(--c-ink); line-height: 1.6;
}

.map-box {
  width: 100%; height: 440px;
  border-radius: 2px; overflow: hidden;
  border: 1px solid var(--c-border);
  position: relative; /* ì˜¤ë²„ë ˆì´ ë°°ì¹˜ë¥¼ ìœ„í•´ ì¶”ê°€ */
}

.map-box a { display: block; width: 100%; height: 100%; }

/* ì´ë¯¸ì§€ ìœ„ì— ë‚˜íƒ€ë‚˜ëŠ” ì•ˆë‚´ ë¬¸êµ¬ */
.map-overlay {
  position: absolute; bottom: 0; left: 0; right: 0;
  background: rgba(26, 26, 24, 0.6);
  color: #fff; padding: 12px; text-align: center;
  font-size: 13px; letter-spacing: 0.05em;
  opacity: 0; transition: opacity var(--t);
}

.map-box:hover .map-overlay { opacity: 1; }

@media (max-width: 860px) {
  .loc-grid { grid-template-columns: 1fr; }
  .map-box { height: 280px; order: -1; }
  .map-overlay { opacity: 1; font-size: 11px; padding: 8px; } /* ëª¨ë°”ì¼ì€ í•­ìƒ ë³´ì„ */
}

@media (max-width: 860px) {
  .loc-grid { grid-template-columns: 1fr; }
  .map-box  { height: 280px; order: -1; } /* Map on top for mobile */
}
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUTTONS & FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.btn-solid { display: inline-block; background: var(--c-ink); color: #fff; padding: 14px 32px; border-radius: 2px; font-size: 13px; letter-spacing: 0.1em; transition: 0.3s; }
.btn-solid:hover { background: var(--c-sage); transform: translateY(-2px); }

footer { background: var(--c-ink); color: rgba(255,255,255,0.4); padding: 60px 6vw 40px; }
.foot-row { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
.foot-brand { font-family: var(--f-display); font-size: 20px; font-weight: 700; color: #fff; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATIONS & EDIT TOOLS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeUp { from { opacity:0; transform: translateY(20px); } to { opacity:1; transform: translateY(0); } }
#toast { position: fixed; bottom: 28px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--c-ink); color: #fff; padding: 12px 24px; border-radius: 4px; transition: 0.4s; z-index: 9999; }
#toast.show { transform: translateX(-50%) translateY(0); }
body.edit-mode [contenteditable="true"] { outline: 2px dashed #e0bc4a; background: rgba(255,240,120,0.1); }
</style>
</head>
<body>

<div id="admin-bar">
  <span class="ab-badge">ê´€ë¦¬ì ëª¨ë“œ</span>
  <div class="ab-actions">
    <button class="ab-btn save" onclick="saveAll()">ğŸ’¾ ì €ì¥</button>
    <button class="ab-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
  </div>
</div>

<nav id="nav">
  <a class="nav-brand" href="#therapist" >ë§ˆìŒ ì‰¼,<span>ì¸ì§€í–‰ë™ì‹¬ë¦¬ìƒë‹´ì„¼í„°</span></a>
  <button class="burger" onclick="toggleMenu()"><span></span><span></span><span></span></button>
  <ul class="nav-list" id="nav-list">
    <li><a href="#therapist">ì„¼í„°Â·ì „ë¬¸ê°€</a></li>
    <li><a href="#fields">ìƒë‹´ë¶„ì•¼</a></li>
    <li><a href="#location">ìƒë‹´ì•ˆë‚´</a></li>
    <li><a href="#contact">ë¬¸ì˜Â·ì˜ˆì•½</a></li>
    <li><a href="manager.html" class="nav-mgr" id="mgr-link">Manager â†—</a></li>
  </ul>
</nav>

<section id="therapist">
  <div class="therapist-content">
    <p class="therapist-eyebrow">Mind & Cognitive Behavioral Therapy</p>
    <h1 class="therapist-h1" id="e-hero-h">
      ë‹¹ì‹ ì˜ ë§ˆìŒì´<br><em>ë‹¤ì‹œ ìˆ¨ ì‰´ ìˆ˜ ìˆê²Œ</em><br>í•¨ê»˜ ê±·ê² ìŠµë‹ˆë‹¤.
    </h1>
    <p class="therapist-body" id="e-hero-b">
      ë§ˆìŒ, ì¸ì§€í–‰ë™ì‹¬ë¦¬ìƒë‹´ì„¼í„°ëŠ” ê·¼ê±° ê¸°ë°˜ì˜ ì¸ì§€í–‰ë™ì¹˜ë£Œ(CBT)ë¥¼ í†µí•´ ê°œì¸ì˜ ì‹¬ë¦¬ì  íšŒë³µê³¼ ì„±ì¥ì„ ë•ëŠ” ì „ë¬¸ ê¸°ê´€ì…ë‹ˆë‹¤. ì •ì‹ ê³¼ ë³‘ì›ê³¼ì˜ ê¸´ë°€í•œ í˜‘ì—…ì„ í†µí•´ ì •ì„œ, í–‰ë™, ì‹ ì²´ ì§ˆí™˜ ë“± ë‹¤ì–‘í•œ ì–´ë ¤ì›€ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.
    </p>

    <h3 style="font-family: var(--f-display); font-size: 20px; font-weight: 700; margin-bottom:16px;" id="e-cred-h">ê¹€ì§€í˜œ ì†Œì¥ ì£¼ìš” <em>ìê²© ë° ê²½ë ¥</em></h3>
    <div class="cred-list">
      <span class="cred-badge" id="e-c1">1ê¸‰ ì •ì‹ ê±´ê°•ì „ë¬¸ìš”ì›</span>
      <span class="cred-badge" id="e-c2">ì •ì‹ ê±´ê°•ê°„í˜¸ì‚¬</span>
      <span class="cred-badge" id="e-c3">ì¸ì§€í–‰ë™ì¹˜ë£Œì‚¬</span>
      <span class="cred-badge" id="e-c4">1ê¸‰ ì‹¬ë¦¬ìƒë‹´ì‚¬</span>
      <span class="cred-badge" id="e-c5">ë³´ê±´Â·ë³´ìœ¡ ì „ë¬¸ê°€</span>
    </div>

    <div>
      <a href="#contact" class="btn-solid">ìƒë‹´ ì˜ˆì•½ ë¬¸ì˜í•˜ê¸°</a>
    </div>
  </div>

  <div class="therapist-photo drop-zone" id="drop-hero" data-key="img-hero">
    <img id="img-hero" src="assets/logo.png" alt="ìƒë‹´ì‚¬ í”„ë¡œí•„">
  </div>
</section>

<section id="fields">
  <div class="wrap">
    <p class="sec-tag sr">Counseling Fields</p>
    <h2 class="sec-h sr" id="e-fields-h">ìš°ë¦¬ëŠ” ì´ëŸ° <em>ë³€í™”</em>ë¥¼ ë§Œë“­ë‹ˆë‹¤</h2>
    
    <div class="fields-grid">
      <div class="field-card sr">
        <h4 id="e-f1-h">ì •ì‹ ë³‘ë¦¬ ë° ì •ì„œê´€ë¦¬</h4>
        <p id="e-f1-b">ìš°ìš¸, ë¶ˆì•ˆ, ê³µí™© ë“± ì‹ ê²½ì¦ë¶€í„° ì¡°í˜„ë³‘, ì¡°ìš¸ë³‘ ë“± ì „ë¬¸ì ì¸ ì‹¬ë¦¬ ê°œì…ì´ í•„ìš”í•œ ë¬¸ì œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.</p>
      </div>
      <div class="field-card sr d1">
        <h4 id="e-f2-h">ìê¸°ì¡°ì ˆ ë° ìŠ¤íŠ¸ë ˆìŠ¤</h4>
        <p id="e-f2-b">ë¶„ë…¸ ì¡°ì ˆ, ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ë° ì¸ì§€í–‰ë™ì¹˜ë£Œ(CBT) ê¸°ë°˜ì˜ ì¸ì§€ ì¬êµ¬ì¡°í™” í›ˆë ¨ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
      </div>
      <div class="field-card sr d2">
        <h4 id="e-f3-h">ê´€ê³„ì™€ ê°€ì¡±</h4>
        <p id="e-f3-b">ëŒ€ì¸ê´€ê³„ ê°ˆë“±, ê°€ì¡± ë¬¸ì œ, ë¶€ë¶€ìƒë‹´ ë° íš¨ìœ¨ì ì¸ ì–‘ìœ¡ë°©ë²• ì½”ì¹­ì„ í†µí•´ ê´€ê³„ì˜ íšŒë³µì„ ë•ìŠµë‹ˆë‹¤.</p>
      </div>
      <div class="field-card sr">
        <h4 id="e-f4-h">ì•„ë™Â·ì²­ì†Œë…„ ë° ì„±ì¸</h4>
        <p id="e-f4-b">ì „ ìƒì• ì£¼ê¸°ì— ê±¸ì¹œ ì‹¬ë¦¬ìƒë‹´ê³¼ ì‚¬íšŒê¸°ìˆ í›ˆë ¨(SST)ì„ í†µí•´ ì‚¬íšŒì  ì ì‘ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
      </div>
      <div class="field-card sr d1">
        <h4 id="e-f5-h">ì „ë¬¸ê°€ ì†Œê°œ</h4>
        <p id="e-f5-b"><strong>ê¹€ì§€í˜œ ì†Œì¥:</strong> 1ê¸‰ ì •ì‹ ê±´ê°•ì „ë¬¸ìš”ì› ë° í’ë¶€í•œ ì„ìƒ ê²½í—˜ì„ ê°€ì§„ ì¸ì§€í–‰ë™ì¹˜ë£Œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.</p>
      </div>
      <div class="field-card sr d2">
        <h4 id="e-f6-h">í˜‘ì—… ì‹œìŠ¤í…œ</h4>
        <p id="e-f6-b">ì •ì‹ ê³¼ ë³‘ì›ê³¼ì˜ í˜‘ì—…ì„ í†µí•´ ì˜í•™ì  ì†Œê²¬ê³¼ ì‹¬ë¦¬í•™ì  ê°œì…ì˜ ê· í˜•ì„ ìœ ì§€í•©ë‹ˆë‹¤.</p>
      </div>
    </div>
  </div>
</section>

<section id="location">
  <div class="wrap">
    <div class="loc-grid">
      <div>
        <p class="sec-tag sr">Information</p>
        <h2 class="sec-h sr" id="e-info-h">ìƒë‹´ <em>ì•ˆë‚´</em></h2>
        <p class="loc-body sr" id="e-info-detail">
          ëª¨ë“  ìƒë‹´ì€ ë‚´ë‹´ìì˜ í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ë¥¼ ìœ„í•´ 100% ì‚¬ì „ ì˜ˆì•½ì œë¡œ ìš´ì˜ë©ë‹ˆë‹¤. í¸ì•ˆí•œ ë§ˆìŒìœ¼ë¡œ ë¬¸ì˜í•´ ì£¼ì„¸ìš”.
        </p>

        <ul class="loc-list">
          <li class="loc-item sr">
            <div class="loc-ico">ğŸ“</div>
            <div class="loc-meta">
              <span class="loc-lbl">ìƒë‹´ ì¥ì†Œ</span>
              <span class="loc-val" id="e-loc">ìˆ˜ì› ë° ìš©ì¸ ì„¼í„° ìš´ì˜<br>(ë¬¸ì˜ í›„ ê°€ê¹Œìš´ ì§€ì ìœ¼ë¡œ ë°°ì •í•´ ë“œë¦½ë‹ˆë‹¤)</span>
            </div>
          </li>
          <li class="loc-item sr d1">
            <div class="loc-ico">âœ‰ï¸</div>
            <div class="loc-meta">
              <span class="loc-lbl">ì´ë©”ì¼ ë¬¸ì˜</span>
              <span class="loc-val" id="e-email">maum-2023@naver.com</span>
            </div>
          </li>
          <li class="loc-item sr d2">
            <div class="loc-ico">ğŸ“</div>
            <div class="loc-meta">
              <span class="loc-lbl">ì „í™” ë¬¸ì˜</span>
              <span class="loc-val" id="tel"><a href="tel:+821012345678">+82 10-1234-5678</a></span>
            </div>
          </li>
          <li class="loc-item sr d3">
            <div class="loc-ico">ğŸ“ </div>
            <div class="loc-meta">
              <span class="loc-lbl">FAX ë¬¸ì˜</span>
              <span class="loc-val" id="Fax">0504-034-6940</span>
            </div>
          </li>
          <li class="loc-item sr d4">
            <div class="loc-ico">ğŸ“…</div>
            <div class="loc-meta">
              <span class="loc-lbl">ì˜ˆì•½ ë°©ì‹</span>
              <span class="loc-val" id="e-res">ì „í™” ë˜ëŠ” ì´ë©”ì¼ì„ í†µí•œ ê°œë³„ ìŠ¤ì¼€ì¤„ í™•ì •</span>
            </div>
          </li>
        </ul>
      </div>

      <div class="map-box sr">
        <a href="https://map.naver.com/" target="_blank" id="e-map-link">
          <img src="assets/location.jpg" alt="ì§€ë„ ë³´ê¸°" id="img-map" style="width:100%; height:100%; object-fit:cover;">
          <div class="map-overlay">í´ë¦­í•˜ì‹œë©´ ì§€ë„ë¡œ ì—°ê²°ë©ë‹ˆë‹¤</div>
        </a>
      </div>
    </div>
  </div>
</section>

<section id="contact" style="padding:130px 0;">
  <div class="wrap" style="text-align:center;">
    <p class="sec-tag sr">Reservation</p>
    <h2 class="sec-h sr" id="e-con-h">ë³€í™”ë¥¼ ìœ„í•œ <em>ì²«ê±¸ìŒ</em></h2>
    <p class="sec-sub sr"  id="e-con-b" style="margin:20px auto; max-width:600px;">
      ì‹¬ë¦¬ì  ì–´ë ¤ì›€ì„ í˜¼ì ê°ë‹¹í•˜ì§€ ë§ˆì„¸ìš”. ì „ë¬¸ê°€ì™€ í•¨ê»˜ë¼ë©´ ìƒˆë¡œìš´ ê¸¸ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>
    <a href="mailto:maum-2023@naver.com" class="btn-solid sr" id="e-email-link">ì´ë©”ì¼ë¡œ ìƒë‹´ ì‹ ì²­í•˜ê¸°</a>
  </div>
</section>

<footer>
  <div class="foot-row">
    <div class="foot-brand" >ë§ˆìŒ ì‰¼, ì¸ì§€í–‰ë™ì‹¬ë¦¬ìƒë‹´ì„¼í„°</div>
    <p class="foot-copy" id="copy-wright">Â© 2024 Maum CBT Center Â· Suwon & Yongin</p>
  </div>
</footer>

<div id="toast"></div>

 <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
  import { 
    initializeFirestore, 
    persistentLocalCache, 
    persistentMultipleTabManager 
  } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";  
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-auth.js";
  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";

  // 1. Firebase ì„¤ì • (ì œê³µí•´ì£¼ì‹  ì •ë³´ ìœ ì§€)
  const firebaseConfig = {
    apiKey: "AIzaSyBHAG_rdo3NxBWEJIGSnt34dYsXeP5G2lg",
    authDomain: "web1-onepage-ver.firebaseapp.com",
    projectId: "web1-onepage-ver",
    storageBucket: "web1-onepage-ver.firebasestorage.app",
    messagingSenderId: "790854514107",
    appId: "1:790854514107:web:a14055b31f90844da8009e"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = initializeFirestore(app, {
    // ë¡œì»¬ ìºì‹œ ì‚¬ìš© ì„¤ì •
    localCache: persistentLocalCache({
      // ì—¬ëŸ¬ ë¸Œë¼ìš°ì € íƒ­ì—ì„œ ë™ì‹œì— ì ‘ì†í•´ë„ ìºì‹œê°€ ë™ê¸°í™”ë˜ë„ë¡ ê´€ë¦¬
      tabManager: persistentMultipleTabManager()
    })
  });
  const CONTENT_REF = doc(db, 'site', 'content');
  const TEXT_IDS = ['e-hero-h', 'e-hero-b', 'e-fields-h', 'e-info-h', 'e-cred-h', 'e-con-b', 'e-info-detail', 'copy-wright', 'e-c1', 'e-c2', 'e-c3', 'e-c4', 'e-c5', 'e-f1-h', 'e-f1-b', 'e-f2-h', 'e-f2-b', 'e-f3-h', 'e-f3-b', 'e-f4-h', 'e-f4-b', 'e-f5-h', 'e-f5-b', 'e-f6-h', 'e-f6-b', 'e-loc', 'e-email', 'e-email-link', 'e-map-link', 'tel', 'Fax', 'e-res', 'e-con-h'];

  // [ì¤‘ìš”] ì´ˆê¸° ë°ì´í„° ë¡œë“œ í•¨ìˆ˜
  async function loadData() {
    const CACHE_KEY = 'site_content_cache';
    const TIME_KEY = 'site_content_time';
    const cachedData = localStorage.getItem(CACHE_KEY);
    const lastFetchTime = localStorage.getItem(TIME_KEY);
    
    const now = new Date().getTime();
    const ONE_DAY = 24 * 60 * 60 * 1000; // 24ì‹œê°„ì„ ë°€ë¦¬ì´ˆë¡œ ê³„ì‚°

    // 1. ë¨¼ì € ë¡œì»¬ ìºì‹œ ë°ì´í„°ë¥¼ í™”ë©´ì— ë¿Œë¦¼ (ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ë³´ì—¬ì¤Œ)
    if (cachedData) {
      applyDataToUI(JSON.parse(cachedData));
    }

    // 2. ì¡°ê±´ë¶€ DB í˜¸ì¶œ
    // ìºì‹œê°€ ì—†ê±°ë‚˜, ë§ˆì§€ë§‰ìœ¼ë¡œ ê°€ì ¸ì˜¨ ì§€ 24ì‹œê°„ì´ ì§€ë‚¬ì„ ë•Œë§Œ DBì— ì ‘ì†
    if (!cachedData || !lastFetchTime || (now - lastFetchTime > ONE_DAY)) {
      try {
        const snap = await getDoc(CONTENT_REF);
        if (snap.exists()) {
          const data = snap.data();
          
          // ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ UI ì—…ë°ì´íŠ¸ ë° ìºì‹œ ê°±ì‹ 
          if (JSON.stringify(data) !== cachedData) {
            applyDataToUI(data);
            localStorage.setItem(CACHE_KEY, JSON.stringify(data));
            localStorage.setItem(TIME_KEY, now.toString()); // ì—…ë°ì´íŠ¸ ì‹œê°„ ê¸°ë¡
            console.log("DBì—ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³  ìºì‹œë¥¼ ê°±ì‹ í–ˆìŠµë‹ˆë‹¤.");
          }
        }
      } catch (e) {
        console.error("DB ë¡œë“œ ì‹¤íŒ¨:", e);
      }
    } else {
      console.log("24ì‹œê°„ì´ ì§€ë‚˜ì§€ ì•Šì•„ ë¡œì»¬ ìºì‹œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. DB í˜¸ì¶œ ìƒëµ.");
    }
  }

// UIì— ë°ì´í„°ë¥¼ ì…íˆëŠ” ë¡œì§ ë¶„ë¦¬
 function applyDataToUI(data) {
  TEXT_IDS.forEach(id => {
    const el = document.getElementById(id);
    const item = data[id];
    if (!el || !item) return;

    if (id === 'e-email-link') {
      // ì£¼ì†Œë§Œ ë³€ê²½ (í…ìŠ¤íŠ¸ ìœ ì§€)
      if (item.href) el.setAttribute('href', item.href);
    } 
    else {
      // ê¸°ë³¸ì ìœ¼ë¡œ í…ìŠ¤íŠ¸ ë°˜ì˜
      if (item.html) el.innerHTML = item.html;
      // telì˜ ê²½ìš° ì €ì¥ëœ ì£¼ì†Œê°€ ìˆë‹¤ë©´ ì¶”ê°€ ë°˜ì˜
      if (id === 'tel' && item.href) {
        el.querySelector('a')?.setAttribute('href', item.href);
      }
    }
  });
}
  // [ì¤‘ìš”] ê´€ë¦¬ì ì €ì¥ í•¨ìˆ˜ (ì „ì—­ window ê°ì²´ì— ë“±ë¡)
  window.saveAll = async function() {
    const data = {};
    TEXT_IDS.forEach(id => {
      const el = document.getElementById(id);
      if (!el) return;

      if (id === 'e-email-link' || id === 'e-map-link') {
        // 1. ì´ë©”ì¼ ë²„íŠ¼: í…ìŠ¤íŠ¸ëŠ” ë¬´ì‹œí•˜ê³  hrefë§Œ ì €ì¥
        data[id] = { href: el.getAttribute('href') };
      } 
      else if (id === 'tel') {
        // 2. ì „í™”ë²ˆí˜¸: í™”ë©´ì˜ ê¸€ì(innerHTML)ì™€ hrefë¥¼ ëª¨ë‘ ì €ì¥
        data[id] = { html: el.innerHTML, href: el.querySelector('a')?.getAttribute('href') };
      } 
      else {
        // 3. ê¸°íƒ€: í…ìŠ¤íŠ¸ ë‚´ìš©ë§Œ ì €ì¥
        data[id] = { html: el.innerHTML };
      }
    });

    try {
      await setDoc(CONTENT_REF, data);
      localStorage.removeItem('site_content_time'); // ìºì‹œ ê°•ì œ ë§Œë£Œ
      showToast('âœ“ í´ë¼ìš°ë“œì— ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (e) {
      console.error(e);
      alert('ì €ì¥ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');
    }
  };

  // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ
// index.html ë‚´ window.logout ìˆ˜ì •
window.logout = () => {
  signOut(auth).then(() => {
    // 404ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ íŒŒì¼ëª…ì„ ëª…ì‹œí•˜ê±°ë‚˜ ë©”ì¸ ê²½ë¡œ(/)ë¡œ ì´ë™
    window.location.href = 'index.html'; 
  }).catch((e) => console.error("ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:", e));
};

// ì‹¤í–‰ íë¦„ ë¶€ë¶„ ìˆ˜ì •
window.addEventListener('DOMContentLoaded', () => {
  loadData();
  initScrollReveal();

  // ì¸ì¦ ìƒíƒœ ê°ì‹œ
  onAuthStateChanged(auth, (user) => {
    const mgrLink = document.getElementById('mgr-link'); // ë§í¬ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const mapLink = document.getElementById('e-map-link'); // ì§€ë„ ë§í¬ ìš”ì†Œ

    if (user) {
      // 1. ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™” (ê¸°ì¡´ ë¡œì§)
      document.body.classList.add('edit-mode');
      document.getElementById('admin-bar').classList.add('on');
      TEXT_IDS.forEach(id => {
        const el = document.getElementById(id);
        if (id !== 'e-email-link') el.setAttribute('contenteditable', 'true');      
      });

      // 2. [ì¶”ê°€] ë¡œê·¸ì¸ ìƒíƒœì¼ ë•Œ Manager ë²„íŠ¼ í´ë¦­ ì œì–´
      // ì§€ë„ URL ìˆ˜ì • logic 
      if (mapLink) {
            mapLink.addEventListener('click', (e) => {
              e.preventDefault(); // í˜ì´ì§€ ì´ë™ ë°©ì§€
              
              const currentUrl = mapLink.getAttribute('href');
              // ë¸Œë¼ìš°ì € ê¸°ë³¸ promptë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆ URL ì…ë ¥ ë°›ê¸°
              const newUrl = prompt("ìƒˆë¡œìš´ ì§€ë„ URL ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”:", currentUrl);
              
              if (newUrl !== null && newUrl !== "") {
                mapLink.setAttribute('href', newUrl);
                showToast('ì§€ë„ ì—°ê²° ì£¼ì†Œê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ì €ì¥ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.');
              }
            });
          }

      if (mgrLink) {
        mgrLink.addEventListener('click', (e) => {
          e.preventDefault(); // í˜ì´ì§€ ì´ë™ ë§‰ê¸°
          showToast('ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœì…ë‹ˆë‹¤.'); // í† ìŠ¤íŠ¸ ì•Œë¦¼
        });
      }
    } else {
      // ë¡œê·¸ì•„ì›ƒ ìƒíƒœì¼ ë•ŒëŠ” ê¸°ë³¸ ì´ë™ í—ˆìš© (í•„ìš” ì‹œ ì¶”ê°€ ë¡œì§ ì‘ì„± ê°€ëŠ¥)
      document.body.classList.remove('edit-mode');
      document.getElementById('admin-bar').classList.remove('on');
    }

      // 3. ì „í™”ë²ˆí˜¸ (tel): í…ìŠ¤íŠ¸ ìˆ˜ì • ì‹œ href ìë™ ê°±ì‹  ë¡œì§ (ì„ íƒ ì‚¬í•­)
    const telBox = document.getElementById('tel');
    if (telBox) {
      telBox.oninput = () => {
        const pureNum = telBox.innerText.replace(/[^0-9+]/g, '');
        telBox.querySelector('a')?.setAttribute('href', `tel:${pureNum}`);
      };
    }

      // 4. ì´ë©”ì¼ (e-email-link): í…ìŠ¤íŠ¸ ìˆ˜ì • ì‹œ href ìë™ ê°±ì‹  ë¡œì§ (ì„ íƒ ì‚¬í•­)
    const emailBox = document.getElementById('e-email-link');
    const newEmailBox = document.getElementById('e-email');
    if (emailBox && newEmailBox) {
      newEmailBox.oninput = () => {
        const pureEmail = newEmailBox.innerText.replace(/[^a-zA-Z0-9@.-]/g, '');
        emailBox.setAttribute('href', `mailto:${pureEmail}`);
      };
    }

});

    window.addEventListener('scroll', () => {
      document.getElementById('nav').classList.toggle('stuck', window.scrollY > 50);
    });
  });

  // ê¸°íƒ€ UI ìŠ¤í¬ë¦½íŠ¸ (ê¸°ì¡´ ìœ ì§€)
  window.toggleMenu = function() {
    document.getElementById('nav-list').classList.toggle('open');
    document.querySelector('.burger').classList.toggle('active');
  }

  function showToast(m) {
    const t = document.getElementById('toast');
    t.textContent = m; t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3000);
  }

  function initScrollReveal() {
    const io = new IntersectionObserver(entries => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('in'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.sr').forEach(el => io.observe(el));
  }
</script>
</body>
</html>