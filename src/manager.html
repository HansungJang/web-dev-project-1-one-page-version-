<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>관리자 로그인 — Clove Therapy</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Noto+Sans+KR:wght@300;400;500&family=Cormorant+Garamond:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<style>
.mgr-wrap {
  min-height: 100vh;
  display: flex; align-items: center; justify-content: center;
  background: var(--c-bg);
  padding: 40px 6vw;
}
.mgr-box {
  background: var(--c-ivory);
  padding: 56px 52px;
  max-width: 440px; width: 100%;
  box-shadow: var(--shadow-md);
}
.mgr-logo {
  font-family: var(--f-display);
  font-size: 22px; font-weight: 700;
  letter-spacing: 0.04em; margin-bottom: 8px;
}
.mgr-logo span { color: var(--c-sage); }
.mgr-sub {
  font-size: 13px; color: var(--c-muted);
  letter-spacing: 0.12em; text-transform: uppercase;
  margin-bottom: 36px; font-weight: 400;
}
.mgr-box .fg { margin-bottom: 18px; }
.mgr-err {
  font-size: 13px; color: #e57373;
  margin-top: 10px; display: none;
}
.mgr-back {
  display: block; text-align: center; margin-top: 24px;
  font-size: 13px; color: var(--c-muted);
  letter-spacing: 0.06em;
}
.mgr-back:hover { color: var(--c-sage); }
@media (max-width: 500px) {
  .mgr-box { padding: 40px 28px; }
}
</style>
</head>
<body>

<div class="mgr-wrap">
  <div class="mgr-box">
    <div class="mgr-logo">마음 쉼, <span>상담센터</span></div>
    <div class="mgr-sub">관리자 로그인</div>

    <div class="fg">
      <label for="m-id">아이디</label>
      <input type="text" id="m-id" placeholder="관리자 아이디" autocomplete="username">
    </div>
    <div class="fg">
      <label for="m-pw">비밀번호</label>
      <input type="password" id="m-pw" placeholder="비밀번호" autocomplete="current-password"
        onkeydown="if(event.key==='Enter') doLogin()">
    </div>
    <p class="mgr-err" id="m-err">아이디 또는 비밀번호가 올바르지 않습니다.</p>

    <button class="btn-solid" style="width:100%; margin-top:8px;" onclick="doLogin()">로그인</button>
    <a href="index.html" class="mgr-back">← 사이트로 돌아가기</a>
  </div>
</div>

<div id="toast"></div>

<!-- HEAD에 추가 -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-auth.js";

  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBHAG_rdo3NxBWEJIGSnt34dYsXeP5G2lg",
    authDomain: "web1-onepage-ver.firebaseapp.com",
    projectId: "web1-onepage-ver",
    storageBucket: "web1-onepage-ver.firebasestorage.app",
    messagingSenderId: "790854514107",
    appId: "1:790854514107:web:a14055b31f90844da8009e",
    measurementId: "G-W9SZPT5JJ7"
  };
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.doLogin = async function() {
    const email = document.getElementById('m-id').value.trim();
    const pw    = document.getElementById('m-pw').value;
    const err   = document.getElementById('m-err');
    try {
      await signInWithEmailAndPassword(auth, email, pw);
      showToast('✓ 로그인 되었습니다.', 'ok');
      setTimeout(() => { window.location.href = 'index.html'; }, 1000);
    } catch(e) {
      err.style.display = 'block';
      document.getElementById('m-pw').value = '';
    }
  }
</script>
</body>
</html>
